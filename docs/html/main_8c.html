<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PatroGalaxy: src/core/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PatroGalaxy
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('main_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main source file for the PatroGalaxy game.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="initialize_8h_source.html">initialize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="save_system_8h_source.html">saveSystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="analog_8h_source.html">analog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="text_8h_source.html">text.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="draw_8h_source.html">draw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player_8h_source.html">player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="background_8h_source.html">background.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="asteroids_8h_source.html">asteroids.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="patro_galaxy_utils_8h_source.html">patroGalaxyUtils.h</a>&quot;</code><br />
<code>#include &quot;pico/stdlib.h&quot;</code><br />
<code>#include &quot;hardware/timer.h&quot;</code><br />
<code>#include &quot;hardware/irq.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ifpilogo_8h_source.html">ifpilogo.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1467bbced032cc6c0d6444a2754f9cd9" id="r_a1467bbced032cc6c0d6444a2754f9cd9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1467bbced032cc6c0d6444a2754f9cd9">STEP_CYCLE</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a1467bbced032cc6c0d6444a2754f9cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time of every cicle.  <br /></td></tr>
<tr class="separator:a1467bbced032cc6c0d6444a2754f9cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a11ecd2297bafe562be4ec08af21dc85e" id="r_a11ecd2297bafe562be4ec08af21dc85e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e">GAME_STATES</a> { <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85ea646fa15851d5e9f6784d044a50eef221">INITIALIZING</a> = -1
, <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85eaa5a7148e2edb1d923fe764021ea87361">TITLE_SCREEN</a> = 0
, <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85ead50cf309d7568040619ed26ee6835a84">GAME</a> = 1
, <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85ea871723195985a4ae22d7e10d99bf8a00">GAME_OVER</a> = 2
 }</td></tr>
<tr class="memdesc:a11ecd2297bafe562be4ec08af21dc85e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum to represent the game states.  <a href="#a11ecd2297bafe562be4ec08af21dc85e">More...</a><br /></td></tr>
<tr class="separator:a11ecd2297bafe562be4ec08af21dc85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa0b01ad53d8beb9c6a33938b9615979a" id="r_aa0b01ad53d8beb9c6a33938b9615979a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0b01ad53d8beb9c6a33938b9615979a">changeGameState</a> (enum <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e">GAME_STATES</a> state)</td></tr>
<tr class="memdesc:aa0b01ad53d8beb9c6a33938b9615979a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the game state.  <br /></td></tr>
<tr class="separator:aa0b01ad53d8beb9c6a33938b9615979a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed70c268a8faff123f354b437990379" id="r_aaed70c268a8faff123f354b437990379"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaed70c268a8faff123f354b437990379">handleButtonGPIOEvent</a> (uint gpio, uint32_t events)</td></tr>
<tr class="memdesc:aaed70c268a8faff123f354b437990379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to handle GPIO events.  <br /></td></tr>
<tr class="separator:aaed70c268a8faff123f354b437990379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5215c6fa1e78d31c0c6551d23cc07c4" id="r_ae5215c6fa1e78d31c0c6551d23cc07c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5215c6fa1e78d31c0c6551d23cc07c4">drawInterface</a> ()</td></tr>
<tr class="memdesc:ae5215c6fa1e78d31c0c6551d23cc07c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the user interface on the SSD1306 display.  <br /></td></tr>
<tr class="separator:ae5215c6fa1e78d31c0c6551d23cc07c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c5d8631cde0cc32e1ec5576bc5c926" id="r_a21c5d8631cde0cc32e1ec5576bc5c926"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21c5d8631cde0cc32e1ec5576bc5c926">drawTransition</a> ()</td></tr>
<tr class="memdesc:a21c5d8631cde0cc32e1ec5576bc5c926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws a transition effect on the screen.  <br /></td></tr>
<tr class="separator:a21c5d8631cde0cc32e1ec5576bc5c926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7bbdda262dd09a996c0a5c4ebe5e5b" id="r_a1f7bbdda262dd09a996c0a5c4ebe5e5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f7bbdda262dd09a996c0a5c4ebe5e5b">playerDeath</a> ()</td></tr>
<tr class="memdesc:a1f7bbdda262dd09a996c0a5c4ebe5e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the player's death event.  <br /></td></tr>
<tr class="separator:a1f7bbdda262dd09a996c0a5c4ebe5e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function of the PatroGalaxy game.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac1d68ef9a5dd304c5015e07af7f2bb19" id="r_ac1d68ef9a5dd304c5015e07af7f2bb19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1d68ef9a5dd304c5015e07af7f2bb19">lives</a> = 3</td></tr>
<tr class="memdesc:ac1d68ef9a5dd304c5015e07af7f2bb19"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of lives available to player.  <br /></td></tr>
<tr class="separator:ac1d68ef9a5dd304c5015e07af7f2bb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef160b7437d94056f1dc59646cd5b87d" id="r_aef160b7437d94056f1dc59646cd5b87d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef160b7437d94056f1dc59646cd5b87d">score</a> = 0</td></tr>
<tr class="memdesc:aef160b7437d94056f1dc59646cd5b87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The score of the game.  <br /></td></tr>
<tr class="separator:aef160b7437d94056f1dc59646cd5b87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc294c4d31ecea0cb25640f7dc6eb85f" id="r_afc294c4d31ecea0cb25640f7dc6eb85f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc294c4d31ecea0cb25640f7dc6eb85f">scoreDraw</a> = 0</td></tr>
<tr class="memdesc:afc294c4d31ecea0cb25640f7dc6eb85f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value the the game will to draw (animated)  <br /></td></tr>
<tr class="separator:afc294c4d31ecea0cb25640f7dc6eb85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677e64a3fe533c9cc9f926c91c30c4ab" id="r_a677e64a3fe533c9cc9f926c91c30c4ab"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a677e64a3fe533c9cc9f926c91c30c4ab">gameSpeed</a> = 1.0</td></tr>
<tr class="memdesc:a677e64a3fe533c9cc9f926c91c30c4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Game Speed, affects the game logic.  <br /></td></tr>
<tr class="separator:a677e64a3fe533c9cc9f926c91c30c4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab207b2bb87a3085c69b4ed4ae0d799ad" id="r_ab207b2bb87a3085c69b4ed4ae0d799ad"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab207b2bb87a3085c69b4ed4ae0d799ad">highScore</a> = 0</td></tr>
<tr class="memdesc:ab207b2bb87a3085c69b4ed4ae0d799ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hightscore in a previous game.  <br /></td></tr>
<tr class="separator:ab207b2bb87a3085c69b4ed4ae0d799ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df9145ad266c20cfd0d8e7323bcb50c" id="r_a1df9145ad266c20cfd0d8e7323bcb50c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1df9145ad266c20cfd0d8e7323bcb50c">newHighScore</a> = false</td></tr>
<tr class="memdesc:a1df9145ad266c20cfd0d8e7323bcb50c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for a new hightscore or not.  <br /></td></tr>
<tr class="separator:a1df9145ad266c20cfd0d8e7323bcb50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3690af58cc9b99828e2c7f30c6125e55" id="r_a3690af58cc9b99828e2c7f30c6125e55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3690af58cc9b99828e2c7f30c6125e55">playerSpawnTime</a> = 30</td></tr>
<tr class="memdesc:a3690af58cc9b99828e2c7f30c6125e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time of the player spawn on the screen.  <br /></td></tr>
<tr class="separator:a3690af58cc9b99828e2c7f30c6125e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029b5a979a114ead2e40cb65e7a4263a" id="r_a029b5a979a114ead2e40cb65e7a4263a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a029b5a979a114ead2e40cb65e7a4263a">shootCooldown</a> = 0</td></tr>
<tr class="memdesc:a029b5a979a114ead2e40cb65e7a4263a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time before the player shoot again.  <br /></td></tr>
<tr class="separator:a029b5a979a114ead2e40cb65e7a4263a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161cb42b90d883782139130127302c84" id="r_a161cb42b90d883782139130127302c84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a161cb42b90d883782139130127302c84">headerMode</a> = 1</td></tr>
<tr class="memdesc:a161cb42b90d883782139130127302c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header display mode (0 to show High Score, 1 to show Level Name)  <br /></td></tr>
<tr class="separator:a161cb42b90d883782139130127302c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab280a194b4fe3a1bd7dd42c033b0717b" id="r_ab280a194b4fe3a1bd7dd42c033b0717b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab280a194b4fe3a1bd7dd42c033b0717b">flashScreen</a> = 0</td></tr>
<tr class="memdesc:ab280a194b4fe3a1bd7dd42c033b0717b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for flash the screen on or off.  <br /></td></tr>
<tr class="separator:ab280a194b4fe3a1bd7dd42c033b0717b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66aff224381cd949be287966a3674e73" id="r_a66aff224381cd949be287966a3674e73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66aff224381cd949be287966a3674e73">titleScreenInitialized</a> = false</td></tr>
<tr class="memdesc:a66aff224381cd949be287966a3674e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">If initializations has already happened.  <br /></td></tr>
<tr class="separator:a66aff224381cd949be287966a3674e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c007b351b6f73de263df3ff9a368ec3" id="r_a5c007b351b6f73de263df3ff9a368ec3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e">GAME_STATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c007b351b6f73de263df3ff9a368ec3">gameState</a> = <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85ea646fa15851d5e9f6784d044a50eef221">INITIALIZING</a></td></tr>
<tr class="memdesc:a5c007b351b6f73de263df3ff9a368ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of the game.  <br /></td></tr>
<tr class="separator:a5c007b351b6f73de263df3ff9a368ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1834a1589f7a10cd85cf18ac417d260e" id="r_a1834a1589f7a10cd85cf18ac417d260e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1834a1589f7a10cd85cf18ac417d260e">transitionProgress</a> = 100</td></tr>
<tr class="memdesc:a1834a1589f7a10cd85cf18ac417d260e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Progress control on screen transition.  <br /></td></tr>
<tr class="separator:a1834a1589f7a10cd85cf18ac417d260e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c3cd974b13f0ec55b29823ee12f04b" id="r_a42c3cd974b13f0ec55b29823ee12f04b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42c3cd974b13f0ec55b29823ee12f04b">transitioningToState</a> = -1</td></tr>
<tr class="memdesc:a42c3cd974b13f0ec55b29823ee12f04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control Variable of the game on state transition.  <br /></td></tr>
<tr class="separator:a42c3cd974b13f0ec55b29823ee12f04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3843a2aecf7aa0ea1b38c59b5fc45c5c" id="r_a3843a2aecf7aa0ea1b38c59b5fc45c5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3843a2aecf7aa0ea1b38c59b5fc45c5c">gameSaved</a> = false</td></tr>
<tr class="memdesc:a3843a2aecf7aa0ea1b38c59b5fc45c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prevents the player of saving the record every time a value is hit.  <br /></td></tr>
<tr class="separator:a3843a2aecf7aa0ea1b38c59b5fc45c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main source file for the PatroGalaxy game. </p>
<p>This file contains the main game loop, state management, and initialization routines for the PatroGalaxy game. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1467bbced032cc6c0d6444a2754f9cd9" name="a1467bbced032cc6c0d6444a2754f9cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1467bbced032cc6c0d6444a2754f9cd9">&#9670;&#160;</a></span>STEP_CYCLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STEP_CYCLE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The time of every cicle. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a11ecd2297bafe562be4ec08af21dc85e" name="a11ecd2297bafe562be4ec08af21dc85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ecd2297bafe562be4ec08af21dc85e">&#9670;&#160;</a></span>GAME_STATES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e">GAME_STATES</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum to represent the game states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a11ecd2297bafe562be4ec08af21dc85ea646fa15851d5e9f6784d044a50eef221" name="a11ecd2297bafe562be4ec08af21dc85ea646fa15851d5e9f6784d044a50eef221"></a>INITIALIZING&#160;</td><td class="fielddoc"><p>Initializing state. </p>
</td></tr>
<tr><td class="fieldname"><a id="a11ecd2297bafe562be4ec08af21dc85eaa5a7148e2edb1d923fe764021ea87361" name="a11ecd2297bafe562be4ec08af21dc85eaa5a7148e2edb1d923fe764021ea87361"></a>TITLE_SCREEN&#160;</td><td class="fielddoc"><p>Title Screen state. </p>
</td></tr>
<tr><td class="fieldname"><a id="a11ecd2297bafe562be4ec08af21dc85ead50cf309d7568040619ed26ee6835a84" name="a11ecd2297bafe562be4ec08af21dc85ead50cf309d7568040619ed26ee6835a84"></a>GAME&#160;</td><td class="fielddoc"><p>Game running state. </p>
</td></tr>
<tr><td class="fieldname"><a id="a11ecd2297bafe562be4ec08af21dc85ea871723195985a4ae22d7e10d99bf8a00" name="a11ecd2297bafe562be4ec08af21dc85ea871723195985a4ae22d7e10d99bf8a00"></a>GAME_OVER&#160;</td><td class="fielddoc"><p>Game over state. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa0b01ad53d8beb9c6a33938b9615979a" name="aa0b01ad53d8beb9c6a33938b9615979a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b01ad53d8beb9c6a33938b9615979a">&#9670;&#160;</a></span>changeGameState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changeGameState </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e">GAME_STATES</a></td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the game state. </p>
<p>Transitions the game to a new state by setting the <code>transitioningToState</code> variable and initiating the transition effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The new game state (a value from the <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e" title="Enum to represent the game states.">GAME_STATES</a> enum). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae5215c6fa1e78d31c0c6551d23cc07c4" name="ae5215c6fa1e78d31c0c6551d23cc07c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5215c6fa1e78d31c0c6551d23cc07c4">&#9670;&#160;</a></span>drawInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawInterface </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the user interface on the SSD1306 display. </p>
<p>This function updates the display with the current interface elements, including the header, bottom bar, lives, and score. The header alternates between displaying the IP address and a static text "EmbarcaTech" every 100 steps. The bottom bar displays the current number of lives and the score.</p>
<dl class="section note"><dt>Note</dt><dd>The function assumes the existence of global variables: <code>display</code>, <code>headerMode</code>, <code>ip_str</code>, <code>steps</code>, <code>lives</code>, <code>score</code>, and <code>scoreDraw</code>. </dd>
<dd>
The function uses the SSD1306 library functions to draw on the display. </dd></dl>

</div>
</div>
<a id="a21c5d8631cde0cc32e1ec5576bc5c926" name="a21c5d8631cde0cc32e1ec5576bc5c926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c5d8631cde0cc32e1ec5576bc5c926">&#9670;&#160;</a></span>drawTransition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawTransition </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws a transition effect on the screen. </p>
<p>This function handles the transition effect by updating the transition progress and drawing a rectangle that covers the screen based on the current progress. The transition progress is incremented or decremented based on whether the transition is fading out or not. The progress is clamped between 0 and 100. When the transition progress reaches 100 and a new state is specified, the game state is updated to the new state.</p>
<dl class="section note"><dt>Note</dt><dd>The function assumes the existence of the following global variables:<ul>
<li>transitioningToState: An integer representing the state to transition to. A value of -1 indicates no transition.</li>
<li>transitionProgress: An integer representing the current progress of the transition.</li>
<li>gameState: An integer representing the current game state.</li>
<li>SCREEN_HEIGHT: An integer representing the height of the screen.</li>
<li>SCREEN_WIDTH: An integer representing the width of the screen.</li>
<li>display: A display object used for drawing.</li>
</ul>
</dd></dl>
<p>The function uses the ssd1306_clear_square function to draw the transition effect. </p>

</div>
</div>
<a id="aaed70c268a8faff123f354b437990379" name="aaed70c268a8faff123f354b437990379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed70c268a8faff123f354b437990379">&#9670;&#160;</a></span>handleButtonGPIOEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleButtonGPIOEvent </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>events</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function to handle GPIO events. </p>
<p>This function is called when a GPIO event occurs. It checks the current game state and performs actions based on the GPIO pin that triggered the event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>The GPIO pin number that triggered the event. </td></tr>
    <tr><td class="paramname">events</td><td>The event mask indicating the type of event that occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function of the PatroGalaxy game. </p>
<p>This function initializes the hardware, loads the high score, and runs the game loop. The game loop handles the title screen, the game itself, and the game over screen. </p>

</div>
</div>
<a id="a1f7bbdda262dd09a996c0a5c4ebe5e5b" name="a1f7bbdda262dd09a996c0a5c4ebe5e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7bbdda262dd09a996c0a5c4ebe5e5b">&#9670;&#160;</a></span>playerDeath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void playerDeath </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the player's death event. </p>
<p>This function is called when the player dies. It decrements the player's lives, sets the player to be invulnerable for a short period, and respawns the player at a specific location. If the player has no remaining lives, it changes the game state to the game over state and checks if the current score is a new high score. If a new high score is achieved, it saves the high score.</p>
<dl class="section note"><dt>Note</dt><dd>This function assumes the existence of global variables such as <code>lives</code>, <code>playerInvulnerableTimer</code>, <code>playerSpawnTime</code>, <code>player</code>, <code>flashScreen</code>, <code>score</code>, <code>highScore</code>, <code>newHighScore</code>, and <code>gameSaved</code>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab280a194b4fe3a1bd7dd42c033b0717b" name="ab280a194b4fe3a1bd7dd42c033b0717b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab280a194b4fe3a1bd7dd42c033b0717b">&#9670;&#160;</a></span>flashScreen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flashScreen = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag for flash the screen on or off. </p>

</div>
</div>
<a id="a3843a2aecf7aa0ea1b38c59b5fc45c5c" name="a3843a2aecf7aa0ea1b38c59b5fc45c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3843a2aecf7aa0ea1b38c59b5fc45c5c">&#9670;&#160;</a></span>gameSaved</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gameSaved = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prevents the player of saving the record every time a value is hit. </p>

</div>
</div>
<a id="a677e64a3fe533c9cc9f926c91c30c4ab" name="a677e64a3fe533c9cc9f926c91c30c4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a677e64a3fe533c9cc9f926c91c30c4ab">&#9670;&#160;</a></span>gameSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gameSpeed = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Game Speed, affects the game logic. </p>

</div>
</div>
<a id="a5c007b351b6f73de263df3ff9a368ec3" name="a5c007b351b6f73de263df3ff9a368ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c007b351b6f73de263df3ff9a368ec3">&#9670;&#160;</a></span>gameState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85e">GAME_STATES</a> gameState = <a class="el" href="#a11ecd2297bafe562be4ec08af21dc85ea646fa15851d5e9f6784d044a50eef221">INITIALIZING</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current state of the game. </p>

</div>
</div>
<a id="a161cb42b90d883782139130127302c84" name="a161cb42b90d883782139130127302c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161cb42b90d883782139130127302c84">&#9670;&#160;</a></span>headerMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerMode = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Header display mode (0 to show High Score, 1 to show Level Name) </p>

</div>
</div>
<a id="ab207b2bb87a3085c69b4ed4ae0d799ad" name="ab207b2bb87a3085c69b4ed4ae0d799ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab207b2bb87a3085c69b4ed4ae0d799ad">&#9670;&#160;</a></span>highScore</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t highScore = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hightscore in a previous game. </p>

</div>
</div>
<a id="ac1d68ef9a5dd304c5015e07af7f2bb19" name="ac1d68ef9a5dd304c5015e07af7f2bb19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d68ef9a5dd304c5015e07af7f2bb19">&#9670;&#160;</a></span>lives</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lives = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of lives available to player. </p>

</div>
</div>
<a id="a1df9145ad266c20cfd0d8e7323bcb50c" name="a1df9145ad266c20cfd0d8e7323bcb50c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1df9145ad266c20cfd0d8e7323bcb50c">&#9670;&#160;</a></span>newHighScore</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool newHighScore = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag for a new hightscore or not. </p>

</div>
</div>
<a id="a3690af58cc9b99828e2c7f30c6125e55" name="a3690af58cc9b99828e2c7f30c6125e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3690af58cc9b99828e2c7f30c6125e55">&#9670;&#160;</a></span>playerSpawnTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int playerSpawnTime = 30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time of the player spawn on the screen. </p>

</div>
</div>
<a id="aef160b7437d94056f1dc59646cd5b87d" name="aef160b7437d94056f1dc59646cd5b87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef160b7437d94056f1dc59646cd5b87d">&#9670;&#160;</a></span>score</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int score = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The score of the game. </p>

</div>
</div>
<a id="afc294c4d31ecea0cb25640f7dc6eb85f" name="afc294c4d31ecea0cb25640f7dc6eb85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc294c4d31ecea0cb25640f7dc6eb85f">&#9670;&#160;</a></span>scoreDraw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int scoreDraw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The value the the game will to draw (animated) </p>

</div>
</div>
<a id="a029b5a979a114ead2e40cb65e7a4263a" name="a029b5a979a114ead2e40cb65e7a4263a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029b5a979a114ead2e40cb65e7a4263a">&#9670;&#160;</a></span>shootCooldown</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shootCooldown = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time before the player shoot again. </p>

</div>
</div>
<a id="a66aff224381cd949be287966a3674e73" name="a66aff224381cd949be287966a3674e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66aff224381cd949be287966a3674e73">&#9670;&#160;</a></span>titleScreenInitialized</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool titleScreenInitialized = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If initializations has already happened. </p>

</div>
</div>
<a id="a42c3cd974b13f0ec55b29823ee12f04b" name="a42c3cd974b13f0ec55b29823ee12f04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c3cd974b13f0ec55b29823ee12f04b">&#9670;&#160;</a></span>transitioningToState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int transitioningToState = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control Variable of the game on state transition. </p>

</div>
</div>
<a id="a1834a1589f7a10cd85cf18ac417d260e" name="a1834a1589f7a10cd85cf18ac417d260e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1834a1589f7a10cd85cf18ac417d260e">&#9670;&#160;</a></span>transitionProgress</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int transitionProgress = 100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Progress control on screen transition. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
